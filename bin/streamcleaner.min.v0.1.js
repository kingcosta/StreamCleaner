(function(){function b(d,e,g){function a(j,i){if(!e[j]){if(!d[j]){var f="function"==typeof require&&require;if(!i&&f)return f(j,!0);if(h)return h(j,!0);var c=new Error("Cannot find module '"+j+"'");throw c.code="MODULE_NOT_FOUND",c}var k=e[j]={exports:{}};d[j][0].call(k.exports,function(b){var c=d[j][1][b];return a(c||b)},k,k.exports,b,d,e,g)}return e[j].exports}for(var h="function"==typeof require&&require,c=0;c<g.length;c++)a(g[c]);return a}return b})()({1:[function(a,b){a("./log");b.exports=function(a){let b=document.getElementsByClassName("jw-video")[0].src;a([{url:b,info:null}])}},{"./log":9}],2:[function(a,b){a("./log");b.exports=function(a){let b="https://openload.co/stream/";b+=/>\s*([\w-]+~\d{10,}~\d+\.\d+\.0\.0~[\w-]+)\s*</.exec(document.documentElement.innerHTML)[1],b+="?mime=true",a([{url:b,info:null}])}},{"./log":9}],3:[function(a,b){a("./log");b.exports=function(a){let b=document.getElementsByTagName("iframe"),c=[{url:null,info:"Some website protect their iframe with the Referer HTTP header. To bypass this limitation click directly on the link."}];for(let d of b)c.push({url:d.src,info:null});a(c)}},{"./log":9}],4:[function(a,b){const c=a("./log"),d=a("./xhr");b.exports=function(a){let b=document.querySelector("link[rel=canonical]"),e=document.createElement("a");e.href=b.href;let f=/^\/?video\/(.+?)\/?$/.exec(e.pathname)[1],g=!1,h="";"private"==f.split("/")[0]&&(f=f.split("/")[1],g=!0,h="&p="+e.search.split("p=")[1]),d.get(location.protocol+"//rutube.ru/api/play/options/"+encodeURIComponent(f)+"/?format=json"+h,function(b){let e=JSON.parse(b).video_balancer.m3u8;d.get(e,function(b){let d=b.split("\n"),e=[{url:null,info:"Due to Rutube limitation the video can't be extracted in only one file."},{url:null,info:"This is m3u files who's contain the list of segmented files, it must be read with a compatible player like VLC in network stream mode."}];for(l of d)if("#"!=l[0]&&""!=l){let a=/^http.*?i=[0-9]+x([0-9]+)_[0-9]+$/.exec(l)[1]+"p";e.push({url:l,info:a})}c(JSON.stringify(e)),a(e)})})}},{"./log":9,"./xhr":10}],5:[function(a,b){a("./log");b.exports=function(a){function b(a,b){var c=String.fromCharCode;let d="",e=[null,null,null,null],f=0,g=a.length;for(;f<g;){for(let b=0;4>b;b++)e[b%4]="=/+9876543210zyxwvutsrqponmlkjihgfedcbaZYXWVUTSRQPONMLKJIHGFEDCBA".indexOf(a[f]),f+=1;char_code=(e[0]<<2|e[1]>>4)^b,d+=c(char_code),64!=e[2]&&(char_code=(15&e[1])<<4|e[2]>>2,d+=c(char_code)),64!=e[3]&&(char_code=(3&e[2])<<6|e[3],d+=c(char_code))}return d}let c=/({[^}]*\bsrc\s*:\s*[^}]*})/.exec(document.documentElement.innerHTML),d=[];for(format of c){let a=/src\s*:\s*[^(]+\(([^)]*)\)[\s,]*/.exec(format),c=format.replace(a[0],""),e=a[1].split(",")[1];a=a[1].split(",")[0].split("'")[1],decodedUrl=b(a,e);let f={url:decodedUrl,info:/^{.*?height:\s*?([0-9]+),.*}$/.exec(c)[1]+"p"};d.push(f)}a(d)}},{"./log":9}],6:[function(a,b){const c=a("./log");b.exports=function(){this.viewport=document.querySelector("meta[name=viewport]"),(this.viewport===void 0||null===this.viewport)&&(this.viewport=document.createElement("meta"),this.viewport.name="viewport",document.getElementsByTagName("head")[0].appendChild(this.viewport)),this.viewportBackup=this.viewport.content,this.viewport.content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0",this.div=document.createElement("div"),this.div.style.position="absolute",this.div.style["z-index"]=1e6,this.div.style["background-color"]="white";let a=document.createElement("h1");a.innerText="Stream Cleaner",this.div.appendChild(a),this.infoSpan=document.createElement("span"),this.infoSpan.appendChild(document.createTextNode("Loading...")),this.div.appendChild(this.infoSpan),document.documentElement.appendChild(this.div),document.body.style.display="none",this.finished=function(a){this.infoSpan.remove();for(let b of a)if(c("New link to the gui: "+JSON.stringify(b)),void 0===typeof b.url||null===b.url){let a=document.createElement("strong");a.appendChild(document.createTextNode(b.info)),this.div.appendChild(a),this.div.appendChild(document.createElement("br"))}else{let c=document.createElement("a");if(c.href=b.url,c.appendChild(document.createTextNode(b.url)),void 0!==typeof b.info&&null!==b.info){let a=document.createElement("strong");a.appendChild(document.createTextNode(b.info+": ")),this.div.appendChild(a)}this.div.appendChild(c),this.div.appendChild(document.createElement("br"))}}}},{"./log":9}],7:[function(a,b){b.exports=[{name:"Openload",urlpattern:/https?:\/\/(?:www\.)?(?:openload\.(?:co|io|link)|oload\.(?:tv|stream|site|xyz))\/(?:f|embed)\/([a-zA-Z0-9-_]+)/i,extract:a("./extract-openload")},{name:"Rutube",urlpattern:/https?:\/\/rutube\.ru\/(?:video|(?:play\/)?embed)\/(?:[A-Za-z0-9])(?:\?p=[A-Za-z0-9])?/i,extract:a("./extract-rutube")},{name:"Streamango",urlpattern:/https?:\/\/(?:www\.)?streamango\.com\/(?:f|embed)\/([^\/?#&]+)/i,extract:a("./extract-streamango")},{name:"Mystream.la",urlpattern:/https?:\/\/(?:www\.)?mystream\.la\/(?:external\/|embed-)?[a-zA-Z0-9-_](?:\.html)?/i,extract:a("./extract-mystreamla")},{name:"Other",urlpattern:/https?:\/\/.+/i,extract:a("./extract-other")}]},{"./extract-mystreamla":1,"./extract-openload":2,"./extract-other":3,"./extract-rutube":4,"./extract-streamango":5}],8:[function(a){const b=a("./log"),c=a("./gui");(function(){b("loaded"),b("indentification of this website...");let d=a("./hostersList"),e=null;for(hosterIt of d)if(hosterIt.urlpattern.test(location.href)){b("Found hoster: "+hosterIt.name),e=hosterIt;break}let f=new c;e.extract(function(a){f.finished(a)})})()},{"./gui":6,"./hostersList":7,"./log":9}],9:[function(a,b){b.exports=function(a){console.log("STREAMCLEANER: "+a)}},{}],10:[function(a,b,c){c.get=function(a,b){let c;if("undefined"!=typeof XMLHttpRequest)c=new XMLHttpRequest;else try{c=new ActiveXObject("Microsoft.XMLHTTP")}catch(a){return void alert("Use a recent browser. Please...")}c.onreadystatechange=function(){4>c.readyState||200!==c.status||4===c.readyState&&b(c.responseText)},c.open("GET",a,!0),c.send(null)}},{}]},{},[8]);